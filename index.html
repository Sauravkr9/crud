<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
 <title>Document</title>
</head>
<body>
 <div class="container mt-5 col-6">
 <div class="input-group mb-3">
  <input type="text" class="form-control" placeholder="chapter name" aria-label="chapter name" aria-describedby="button-addon2">
  <button id="add_btn"class="btn btn-outline-secondary" type="button" id="button-addon2">Button</button>
</div>
<ul id="parentList"class="list-group"style="list-style:none">
  
 <li class="list-group-item d-flex justify-content-between"><h4 class="flex-grow-1">chapter1</h4>
   <button class="edt mx-3 " style="background-color: rgb(137, 245, 137);" onclick="editChapter(this)">Edit</button>
  <button class="rmv" style="background-color: rgb(243, 5, 5);" onclick="removeChapter(this)">Remove</button> 
</li>
 
</ul>
</div>
 <script>
  let addbtn=document.getElementById("add_btn");
  addbtn.addEventListener('click',addchapter);
  let parentList=document.getElementById('parentList')
  function addchapter(e)
  {
    if(parentList.children[0].className=="emptymsg")
   {
    parentList.children[0].remove()
   }
   let currentbtn=e.currentTarget;
   let currentInput=currentbtn.previousElementSibling.value;
   let chapter=currentInput
   let newli=document.createElement('li')
   
   newli.innerHTML=`<li class="list-group-item d-flex justify-content-between"><h4 class="flex-grow-1">${chapter}</h4>
      <button class="edt mx-3" style="background-color: rgb(137, 245, 137);" onclick="editChapter(this)">Edit</button>
     <button class="rmv"  style="background-color: rgb(243, 5, 5);" onclick="removeChapter(this)">Remove</button> 
   </li>` 

   if(chapter==0)
   {
   alert("add any chapter")
   }
   else{
    parentList.appendChild(newli)
   }
   //console.log(parentList.children.length)
   currentbtn.previousElementSibling.value=""
   
  }
  function removeChapter(currentElement)
   {
    currentElement.parentElement.remove()    
    //console.log(parentList.children.length)
    if(parentList.children.length==0)
    {
       let newmsg=document.createElement("h3")
       newmsg.textContent="nothing to show,insert a chapter"
       newmsg.classList.add("emptymsg")
       parentList.appendChild(newmsg)
    }
   }
   function editChapter(currelement)
   {
    
    if(currelement.textContent=="Done")
    {
        if(currelement.previousElementSibling.value=="")
        {
          alert("add any chapter")
        }
        else{
        currelement.textContent="Edit"
        let currchaptername=currelement.previousElementSibling.value
        let currheading=document.createElement('h3')
        currheading.className="flex-grow-1"
        currheading.textContent=currchaptername
        currelement.parentElement.replaceChild(currheading,currelement.previousElementSibling)
        }
    }
    else{
      currelement.textContent="Done"
      let currchaptername=currelement.previousElementSibling.textContent
      console.log("haathi")
      currinput=document.createElement("input")
      currinput.type="text"
      currinput.className="form-control"  
        
      currinput.value=currchaptername
      currelement.parentElement.replaceChild(currinput,currelement.previousElementSibling)
    }
   }
   
</script>
</body>
</html>

